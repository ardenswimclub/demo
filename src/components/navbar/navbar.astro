---
import Link from "@/components/ui/link.astro";
import Dropdown from "./dropdown.astro";
import { Astronav, MenuItems, MenuIcon } from "astro-navbar";
import { withBase } from "@/utils/url";
//import { pages } from '@/data/pageData'

const { menuItems } = Astro.props;

function mapChildrenPaths(children) {
  return children.map(o => {
    return {title: o.title, path: withBase(o.path)}
  });
}
---

<div class="flex w-full lg:w-auto items-center justify-between">
  <ul class="flex flex-col lg:flex-row lg:gap-3">
  {menuItems.map((item,index) => (
    <>
      <li>
        <a
          href={withBase(item.path)}          
          target={item.blank ? '_blank' : undefined}
          rel={item.blank ? 'noopener' : undefined}
          class="flex lg:px-1 my-2 items-center text-gray-600 hover:text-gray-900 
            border-b-3 border-b-transparent hover:border-yellow-400">
          <span>{item.title}</span>                      
        </a>
      </li>
    </>
  ))}
  </ul>
</div>
<!-- 
<Astronav>    
  <div class="flex w-full lg:w-auto items-center justify-between">
    <div class="block lg:hidden">
      <MenuIcon class="w-4 h-4 text-gray-800" />
    </div>
  </div>
  <MenuItems class="hidden w-full lg:w-auto mt-2 lg:flex lg:mt-0">
    <ul class="flex flex-col lg:flex-row lg:gap-3">
      {
        menuItems.map((item, index) => (
          <>
            {item.children && (
              <Dropdown
                title={item.title}
                children={mapChildrenPaths(item.children)}
                lastItem={index === menuItems.length - 1}
              />
            )}

            {!item.children && (
              <li>
                <a
                  href={withBase(item.path)}
                  class="flex lg:px-1 py-2 items-center text-gray-600 hover:text-gray-900">
                  <span> {item.title}</span>                      
                </a>
              </li>
            )}
          </>
        ))
      }
    </ul>

  </MenuItems>

</Astronav> -->